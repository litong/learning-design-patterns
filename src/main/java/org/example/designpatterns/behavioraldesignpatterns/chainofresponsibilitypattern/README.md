# 责任链模式

责任链模式（Chain of Responsibility Pattern）是将链中每一个节点看作是一个对象，每个节点处理的请求均不同，且内部自动维护一个下一节点对象。当一个请求从链使得首端发出时，会沿着链的路径依次传递给每一个节点对象，直到有对象处理这个请求为止。

责任链模式属于行为型模式。

## 责任链模式在生活场景中的应用

1. 工作生活中的审核流程
2. 过五关，斩六将

## 责任链模式的适用场景

1. 一个请求的处理需要多个对象当中的一个或几个协作处理。
2. 多个对象可以处理同一请求，但具体由哪个对象处理则在运动时动态决定。
3. 在不明确指定接受者的情况下，向多个对象中的一个提交一个请求。
4. 可动态指定一组对象处理请求。

## 责任链模式在源码中的应用

1. JDK javax.servlet.Filter - doFilter
2. Netty io.netty.channel.ChannelPipeline

## 责任链模式的优点

1. 将请求与处理解耦
2. 请求处理者（节点对象）只需关注自己感兴趣的请求处理即可，对于不感兴趣的请求，直接转发给下一级节点对象；
3. 具备链式传递处理请求功能，请求发送者无需知晓链路结构，只需等待请求处理结果；
4. 链式结构灵活，可以通过改变链式结构动态地新增或删减责任；
5. 易于扩展新的请求处理类（节点），符合开闭原则。

## 责任链模式的缺点

1. 责任链太长或处理时间太长，会影响整体性能。
2. 如果节点对象存在循环引用时，会造成死循环，导致系统崩溃。