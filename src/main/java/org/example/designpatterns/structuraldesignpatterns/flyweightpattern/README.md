# 享元模式

## 享元模式的定义

享元模式（Flyweight Pattern）又称为轻量级模式，是对象池的一种实现。类似于线程池，线程池可以避免不停的创建和销毁多个对象，消耗性能。提供了减少对象数量从而改善应用所需的对象结构的方式。

宗旨：共享细粒度对象，将多个同一对象的访问集中起来。

享元模式属于结构型模式。

## 享元模式在生活场景中的应用

各类房源共享

全国社保联网

## 享元模式的适用场景

常常应用于系统底层的开发，以便解决系统的性能问题。

系统有大量相似对象、需要缓冲池的场景。

## 享元模式拓展知识

### 内部状态

享元模式的内部状态只存在于享元模式内部，不随环境的改变而改变

### 外部状态

享元模式的外部状态会随环境改变而改变

## 享元模式的优点

减少对象的创建，降低内存中对象的数量，降低系统的内存，提高效率。

减少内存之外的其他资源占用。

## 享元模式的缺点

关注内、外部状态、关注线程安全问题

使系统、程序的逻辑复杂化

## 享元模式相关的模式

### 享元模式与代理模式

代理模式一对一

享元模式一对多

### 享元模式与单例模式

享元模式的工厂与单例模式配合使用